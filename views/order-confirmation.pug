extends layout

block content
  div(class='container mx-auto px-4 py-8')
    div(class='max-w-2xl mx-auto')
      //- Success Icon
      div(class='text-center mb-8')
        div(class='inline-flex items-center justify-center w-20 h-20 bg-green-100 rounded-full mb-4')
          span(class='text-4xl') âœ“
        h1(class='text-3xl font-bold text-gray-900') Order Confirmed!
        p(class='text-gray-600 mt-2') Thank you for your purchase
      
      //- Order Details
      div(class='bg-white rounded-lg shadow-md p-6 mb-6')
        h2(class='text-xl font-semibold mb-4') Order Details
        
        div(class='space-y-2 text-sm')
          div(class='flex justify-between')
            span(class='text-gray-600') Order Number:
            span(class='font-medium')= order.id
          
          div(class='flex justify-between')
            span(class='text-gray-600') Date:
            span(class='font-medium')= new Date(order.createdAt).toLocaleDateString()
          
          div(class='flex justify-between')
            span(class='text-gray-600') Status:
            span(class='font-medium text-green-600')= order.status
      
      //- Shipping Address
      div(class='bg-white rounded-lg shadow-md p-6 mb-6')
        h2(class='text-xl font-semibold mb-4') Shipping Address
        div(class='text-gray-700')
          p= `${order.shippingAddress.firstName} ${order.shippingAddress.lastName}`
          p= order.shippingAddress.address
          p= `${order.shippingAddress.city}, ${order.shippingAddress.state} ${order.shippingAddress.zipCode}`
      
      //- Order Items
      div(class='bg-white rounded-lg shadow-md p-6 mb-6')
        h2(class='text-xl font-semibold mb-4') Order Items
        
        div(class='space-y-4')
          each item in order.items
            div(class='flex justify-between items-center py-3 border-b last:border-b-0')
              div(class='flex-1')
                p(class='font-medium')= item.name
                p(class='text-sm text-gray-600')= `Quantity: ${item.quantity}`
              p(class='font-medium')= `$${(item.price * item.quantity).toFixed(2)}`
        
        div(class='border-t pt-4 mt-4 space-y-2')
          div(class='flex justify-between text-sm')
            span(class='text-gray-600') Subtotal:
            span= `$${order.total.toFixed(2)}`
          div(class='flex justify-between text-sm')
            span(class='text-gray-600') Shipping:
            span Free
          div(class='flex justify-between text-sm')
            span(class='text-gray-600') Tax:
            span= `$${(order.total * 0.1).toFixed(2)}`
          div(class='flex justify-between text-lg font-bold pt-2 border-t')
            span Total:
            span= `$${(order.total * 1.1).toFixed(2)}`
      
      //- Adobe Target: Confirmation Recommendations
      if recommendedProducts && recommendedProducts.length > 0
        div(class='bg-blue-50 rounded-lg p-6 mb-6')
          h2(class='text-xl font-semibold mb-4') You Might Also Like
          div(class='grid grid-cols-2 md:grid-cols-4 gap-4')
            each product in recommendedProducts
              a(href=`/products/${product.id}` class='text-center')
                div(class='bg-gray-200 rounded h-24 flex items-center justify-center mb-2')
                  span(class='text-2xl') ðŸ“¦
                p(class='text-sm font-medium truncate')= product.name
                p(class='text-sm text-gray-600')= `$${product.price.toFixed(2)}`
      
      //- Actions
      div(class='text-center')
        a(href='/products/search' class='inline-block bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 font-medium')
          | Continue Shopping
